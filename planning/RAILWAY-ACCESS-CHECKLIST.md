# Railway Access & Setup Checklist - URGENT

## üö® REQUIRED BEFORE JOSH LEAVES PC

### 1. Railway Access Verification ‚úÖ COMPLETE
```bash
# Railway access confirmed!
railway project list                    # ‚úÖ Shows pretty-communication
railway link --project pretty-communication --environment production  # ‚úÖ Linked successfully
railway status                         # ‚úÖ Connected to project
railway service status --all           # ‚úÖ Shows existing services
```

**‚úÖ Current Status:**
- Railway CLI authenticated and working
- `pretty-communication` project accessible  
- **Existing services found:**
  - `pitbull-web` (SUCCESS)
  - `pitbull-api` (FAILED - needs attention)
  - `web` (FAILED - legacy?)
  - `Postgres` (SUCCESS)

**‚ö†Ô∏è Issues Found:**
- `pitbull-api` service is FAILED status
- Need to check what environments exist beyond 'production'

### 2. Required Railway Permissions
**Project:** `pretty-communication`
**Needed permissions:**
- ‚úÖ Deploy services
- ‚úÖ Create/manage environments  
- ‚úÖ Add custom domains
- ‚úÖ Configure environment variables
- ‚úÖ Manage PostgreSQL instances

### 3. Cloudflare DNS Access
**Domain:** `pitbullconstructionsolutions.com`
**Required DNS Records:**
```
duke.pitbullconstructionsolutions.com     ‚Üí pitbull-dev.up.railway.app
theo.pitbullconstructionsolutions.com     ‚Üí pitbull-staging.up.railway.app
demo.pitbullconstructionsolutions.com     ‚Üí pitbull-demo.up.railway.app
app.pitbullconstructionsolutions.com      ‚Üí pitbull-production.up.railway.app
```

**Cloudflare Access Options:**
1. **Josh adds me to Cloudflare account** (preferred)
2. **Josh makes DNS changes manually** using the records above
3. **Provide Cloudflare API key** for automated changes

### 4. Railway CLI Setup Commands
```bash
# Complete setup sequence (run if I have access)
railway login
railway link pretty-communication

# Create all environments
railway service create pitbull-dev
railway service create pitbull-staging  
railway service create pitbull-demo
railway service create pitbull-production

# Add databases
railway add postgresql --environment dev
railway add postgresql --environment staging
railway add postgresql --environment demo
railway add postgresql --environment production

# Configure domains (after DNS is set)
railway domain add duke.pitbullconstructionsolutions.com --service pitbull-dev
railway domain add theo.pitbullconstructionsolutions.com --service pitbull-staging
railway domain add demo.pitbullconstructionsolutions.com --service pitbull-demo
railway domain add app.pitbullconstructionsolutions.com --service pitbull-production
```

### 5. Environment Variables to Configure
```bash
# For each environment, set these variables:
ASPNETCORE_ENVIRONMENT=Development|Staging|Demo|Production
DATABASE_URL=(auto-generated by Railway PostgreSQL)
JWT_SECRET=(generate unique per environment)
CORS_ORIGINS=https://duke.pitbullconstructionsolutions.com,https://theo.pitbullconstructionsolutions.com,https://demo.pitbullconstructionsolutions.com,https://app.pitbullconstructionsolutions.com
```

### 6. GitHub Actions Railway Token
**Required:** Railway deploy token for GitHub Actions
```bash
# Generate deploy token
railway auth-token

# Add to GitHub Secrets as RAILWAY_TOKEN
# Update .github/workflows/deploy.yml to use it
```

## üéØ IMMEDIATE ACTION ITEMS

### Option A: Full Delegate Access (Preferred)
1. **Railway:** Invite me to `pretty-communication` project as collaborator
2. **Cloudflare:** Add me to `pitbullconstructionsolutions.com` domain  
3. **GitHub:** Ensure I can modify deploy workflows

### Option B: Josh Sets Up Before Leaving
1. **Railway:** Create all 4 services and databases manually
2. **Cloudflare:** Add the 4 CNAME records manually (DNS only mode)
3. **Railway:** Configure custom domains for each service
4. **GitHub:** Add Railway deploy token to secrets

### Option C: Minimal Setup (If Time Limited)
1. **Cloudflare DNS:** Just add the 4 CNAME records
2. **Railway:** Create dev and staging services only
3. **Document:** What needs to be finished later

## üö® FALLBACK PLAN
If no access available:
- Document exactly what needs to be done
- Create deployment configs that work with default Railway domains
- Set up GitHub Actions to deploy to Railway using temporary setup
- Complete custom domain setup when Josh returns

## ‚úÖ VERIFICATION CHECKLIST
- [ ] Railway CLI authenticated and working
- [ ] Can access `pretty-communication` project
- [ ] Cloudflare DNS records added or access granted
- [ ] GitHub Actions token configured
- [ ] Test deployment to at least one environment

**Time sensitive:** Need this resolved before Josh loses PC access today!